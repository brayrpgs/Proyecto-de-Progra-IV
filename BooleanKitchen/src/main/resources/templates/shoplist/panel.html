<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      >

    <head>
        <title>Administrador de Listas de compras</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" th:href="@{/css/stNav.css}" />
        <link rel="stylesheet" th:href="@{/css/stColores_fuentes.css}" />
        <link rel="stylesheet" th:href="@{/css/stBtnEditar.css}" />
        <link rel="stylesheet" th:href="@{/css/stBtnEliminar.css}" />
        <link rel="stylesheet" th:href="@{/css/stFooter.css}" />
        <link rel="stylesheet" th:href="@{/css/stModal.css}" />
        <link rel="stylesheet" th:href="@{/css/shoplist/insert.css}" />
        <script th:src="@{/js/jsNav.js}"></script>
        <script th:src="@{/js/shoplist/shoplist.js}"></script>
    </head>

    <body>
        <div th:insert="~{ plantillas/nav :: nav }"></div>
        <br />
        <h1>Lista de Compras</h1>
        <span id="postNav">
            <button id="insert" style="color: blue; margin-bottom: 10px;" , th:attr="onclick='showComponentInsert()'" value="0"
                    title="insertar registros">
                Agregar Compra
            </button>
            <span class="search" id="serch">
                <input type="search" id="findInput" placeholder="Buscar" style="margin-bottom: 10px;"/>
                <button id="findBtn" style="color: blue; margin-bottom: 10px;" title="buscar registros" onclick="search()">&#10024</button>
            </span>
        </span>
        <form id="formUpdate" method="post" th:action="@{/shoplist/insertShoplist}"></form>
        <hr />
        <table>
            <thead>
                <tr>
                    <th th:each="data:${dataColum}" th:text="${data}" , style="text-align: center"></th>
                </tr>
            </thead>
            <tbody id="TableDataUser">
                <tr th:each="data,i:${dataDB}">
                    <td th:text="${data.name}"></td>
                    <td th:text="${data.amount}"></td>
                    <td th:text="${data.notes}"></td>
                    <td th:text="${data.brand}"></td>
                    <td> <input type="checkbox" th:checked="${data.state}" disabled="true">
                    </td>
                    <td th:text="${data.date}"></td>
                    <td style="display: -webkit-inline-box" >
                        <button class="editBtn" alt="Editar" th:id="${i.index}" th:onclick="|showComponentUpdate(${i.index},${data.id})|">
                            <svg height="1em" viewBox="0 0 512 512">
                                <path
                                    d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"
                                    ></path>
                            </svg>
                        </button>
                        <form th:action="@{${delete}}" method="post" id="deleteForm">
                            <input type="hidden" th:name="id" th:value="${data.id}">
                                <button class="deleteBtn" alt="Eliminar" onclick="deleteShoplist()" type="button">
                                    <svg
                                        class="delete-top"
                                        viewBox="0 0 39 7"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                        >
                                        <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                                        <line
                                            x1="12"
                                            y1="1.5"
                                            x2="26.0357"
                                            y2="1.5"
                                            stroke="white"
                                            stroke-width="3"
                                            ></line>
                                    </svg>
                                    <svg
                                        class="delete-bottom"
                                        viewBox="0 0 33 39"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                        >
                                        <mask id="path-1-inside-1_8_19" fill="white">
                                            <path
                                                d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z"
                                                ></path>
                                        </mask>
                                        <path
                                            d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                                            fill="white"
                                            mask="url(#path-1-inside-1_8_19)"
                                            ></path>
                                        <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                                        <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                                    </svg>
                                </button>
                        </form>
                    </td>
                </tr>
            </tbody>
        </table>
        <!-- paginacion -->
        <div id="Pageable">
            <a th:if="${numPage != 0}" th:href="@{|/shoplist/panel/${numPage-1}|}">&#10550 Anterior</a>

            <a th:if="${numPage < totalPages-1}" th:href="@{|/shoplist/panel/${numPage+1}|}">Siguiente &#10551</a>
            <a th:each="page : ${pageableCollection}" th:text="${page}" th:href="@{|/shoplist/panel/${page}|}"></a>
        </div>
        <footer th:insert="~{ /plantillas/footer :: footer }"></footer>
    </body>

</html>