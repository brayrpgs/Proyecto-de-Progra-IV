<!DOCTYPE html>
<html lang="es" xmls:th="http://thymeleaf.org">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
        <link rel="stylesheet" type="text/css" th:href="@{/css/stRecetasYNoticias.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stNav.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stFooter.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stModal.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stTable.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stBtnEliminar.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stBtnEditar.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stColores_fuentes.css}">
        <script text="text/javascript" th:src="@{/js/jsNav.js}" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js" defer></script>
        <script text="text/javascript" th:src="@{/js/jsModalAdd.js}"></script>
        <title>Bienvenido</title>

        <style>
            .container-elements{
                width: 400px;
            }
            input[type="file"] {
                margin-bottom: 10px;
            }

            #imageContainer-file,
            #imageContainer-file2,
            #imageContainer-file3 {
                margin-bottom: 10px;
            }

            #imageContainer-file img,
            #imageContainer-file2 img,
            #imageContainer-file3 img {
                max-width: 300px;
                max-height: 300px;
            }
        </style>


    </head>

    <body>

        <div th:replace="plantillas/nav :: nav"></div>

        <main class="main">
            <!-- Noticias -->

            <div class="news">
                <div class="carousel-news">
                    <div class="container-news" th:if="${noticias != null and !noticias.empty}">
                        <div class="swiper">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide" th:each="noticia : ${noticias}">
                                    <a href="#" style="text-decoration: none;">
                                        <img th:src="@{/assets/__${noticia.image}__}" alt="Imagen de una noticia">
                                        <div class="news-details">
                                            <h2 th:text="${noticia.tittle}"></h2>
                                            <p th:text="${noticia.resume}"></p>
                                            <p th:text="${noticia.author}"></p>
                                        </div>
                                    </a>
                                </div>
                            </div>
                            <div class="swiper-pagination"></div>

                            <div class="swiper-button-prev"></div>
                            <div class="swiper-button-next"></div>
                        </div>
                    </div>
                    <div th:if="${noticias == null || noticias.empty}">
                        No se encontraron noticias
                    </div>
                </div>
            </div>
            <div class="container-category">
                
                <h2>Que quieres cocinar?</h2>
                <div class="container-category-items" th:if="${categorias != null and !categorias.empty}">
                    <div class="item" th:each="cat : ${categorias}">
                        <img th:src="@{/imgCat/__${cat.image}__}" alt="Imagen de una categoria"/>
                        <a href="#" style="text-decoration: none">
                            <div style="text-align: center;" class="category" th:text="${cat.name}"></div>
                        </a>
                    </div>
                </div>
                <div class="container-category-items" th:if="${categorias == null || categorias.empty}">
                    No se encontraron categorias
                </div>
            </div>

            <div class="recipe">
                <h1 style="text-align: center;">‚≠êTop 10 mejores recetas‚≠ê</h1>
                <div class="container-recipe" th:if="${mejoresRecetas != null and !mejoresRecetas.empty}">
                    <div class="card" th:each="receta : ${mejoresRecetas}">
                        <a th:href="@{/c_receta/verDetallesDeReceta(id=${receta.identificador})}" style="text-decoration: none;">
                            <div class="card-image">
                                <img th:src="@{/assets/__${receta.image}__}" alt="Imagen de una receta" />
                            </div>
                            <div class="category" th:text="${receta.category.name}"> </div>
                            <div class="heading">
                                <span th:text="${receta.name}"></span>
                                <div class="author"> Por <span class="name" th:text="${receta.user.userName}"></span></div>
                            </div>
                        </a>
                    </div>
                </div>
                <div th:if="${mejoresRecetas == null || mejoresRecetas.empty}">
                    No se encontrarron recetas
                </div>
            </div>

        </main>

        <footer th:replace="plantillas/footer :: footer"></footer>


        <dialog id="modal-add-recipe">
            <form id="recipeForm" method="post" th:action="@{/c_receta/nuevaReceta}" enctype="multipart/form-data"
                  style="margin-top: 65px;">
                <div style="position: relative;">
                    <button id="closeBtn" type="button" onclick="closeModal()" style=" background: none; border: none; color: white;">
                        <svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="m15.8333 5.34166-1.175-1.175-4.6583 4.65834-4.65833-4.65834-1.175 1.175 4.65833 4.65834-4.65833 4.6583 1.175 1.175 4.65833-4.6583 4.6583 4.6583 1.175-1.175-4.6583-4.6583z" fill="#393a37"></path></svg>
                    </button>
                </div>
                <h1 style="text-align: center; width: 100%; text-transform: uppercase;">Publica tus recetas favoritas ü•£
                </h1>

                <div class="tab">
                    <div class="contenedor-nueva-receta" style="width: 100%;">
                        <div style="width: 100%; display: flex; justify-content: center; flex-wrap: wrap;">
                            <div class="container-elements" style="width: 400px;">
                                <div class="inputs-modal">
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <input required="" name="nombre" type="text" id="input"
                                                   oninput="this.className = ''">
                                            <span class="bar"></span>
                                            <label class="label">
                                                <span class="label-char" style="--index: 0">N</span>
                                                <span class="label-char" style="--index: 1">o</span>
                                                <span class="label-char" style="--index: 2">m</span>
                                                <span class="label-char" style="--index: 3">b</span>
                                                <span class="label-char" style="--index: 4">r</span>
                                                <span class="label-char" style="--index: 5">e</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <select name="origen" required="" oninput="this.className = ''">
                                                <option value="" disabled selected hidden></option>
                                                <option th:each="origen : ${origen}" th:value="${origen.identificador}" th:text="${origen.name}"></option>
                                            </select>
                                            <span class="bar"></span>
                                            <label class="label">
                                                <span class="label-char" style="--index: 0">O</span>
                                                <span class="label-char" style="--index: 1">r</span>
                                                <span class="label-char" style="--index: 2">i</span>
                                                <span class="label-char" style="--index: 3">g</span>
                                                <span class="label-char" style="--index: 4">e</span>
                                                <span class="label-char" style="--index: 5">n</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <select name="categoria" required="" oninput="this.className = ''">
                                                <option value="" disabled selected hidden></option>
                                                <option th:each="cat : ${categorias}" th:value="${cat.idSerial}" th:text="${cat.name}"></option>
                                            </select>
                                            <span class="bar"></span>
                                            <label class="label">
                                                <span class="label-char" style="--index: 0">C</span>
                                                <span class="label-char" style="--index: 1">a</span>
                                                <span class="label-char" style="--index: 2">t</span>
                                                <span class="label-char" style="--index: 3">e</span>
                                                <span class="label-char" style="--index: 4">g</span>
                                                <span class="label-char" style="--index: 5">o</span>
                                                <span class="label-char" style="--index: 6">r</span>
                                                <span class="label-char" style="--index: 7">i</span>
                                                <span class="label-char" style="--index: 8">a</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="container-upload-img">
                                            <input type="file" accept="image/*" name="img_receta" id="file" oninput="this.className = ''" required>
                                            <div id="imageContainer-file">
                                                <img src="/assets/uploadimg.jpg" alt="">
                                            </div>
                                            <button id="deleteButton" class="deleteBtn" alt="Eliminar"
                                                    onclick="deleteImage('file')">
                                                <svg class="delete-top" viewBox="0 0 39 7" fill="none"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                                                <line x1="12" y1="1.5" x2="26.0357" y2="1.5" stroke="white"
                                                      stroke-width="3"></line>
                                                </svg>
                                                <svg class="delete-bottom" viewBox="0 0 33 39" fill="none"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                <mask id="path-1-inside-1_8_19" fill="white">
                                                    <path
                                                        d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z">
                                                    </path>
                                                </mask>
                                                <path
                                                    d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                                                    fill="white" mask="url(#path-1-inside-1_8_19)"></path>
                                                <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                                                <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab">
                    <div class="contenedor-nueva-receta" style="width: 100%;">
                        <div style="width: 100%; display: flex; justify-content: center; flex-wrap: wrap;">
                            <div class="container-elements">
                                <div class="inputs-modal">
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <select name="utensilios" required="false" oninput="this.className = ''"
                                                    onclick="agregarUtensilios(this)">
                                                <option value="" disabled selected hidden></option>
                                                <option th:each="utensilios : ${utensilios}" th:value="${utensilios.identificador}" th:text="${utensilios.nombre}"></option>  
                                            </select>
                                            <span class="bar"></span>
                                            <label class="label">
                                                <span class="label-char" style="--index: 0">U</span>
                                                <span class="label-char" style="--index: 1">t</span>
                                                <span class="label-char" style="--index: 2">e</span>
                                                <span class="label-char" style="--index: 3">n</span>
                                                <span class="label-char" style="--index: 4">s</span>
                                                <span class="label-char" style="--index: 5">i</span>
                                                <span class="label-char" style="--index: 6">l</span>
                                                <span class="label-char" style="--index: 7">i</span>
                                                <span class="label-char" style="--index: 8">o</span>
                                                <span class="label-char" style="--index: 9">s</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <div class="table-container">
                                                <table id="table-utensilios">
                                                    <thead>
                                                        <tr>
                                                            <th>Utensilio</th>
                                                            <th>Acci√≥n</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="tbody-table1">
                                                        <!-- <tr th:each="p :${Producto}">
                                                            <td th:text="${p.nombre}">Nombre</td>
                                                            <td class="acciones">
                                                                <button class="deleteBtn" alt="Eliminar" title="Eliminar utensilio" onclick="eliminarUtensilios(this)">
                                                                    <svg
                                                                        class="delete-top"
                                                                        viewBox="0 0 39 7"
                                                                        fill="none"
                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                        >
                                                                    <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                                                                    <line
                                                                        x1="12"
                                                                        y1="1.5"
                                                                        x2="26.0357"
                                                                        y2="1.5"
                                                                        stroke="white"
                                                                        stroke-width="3"
                                                                        ></line>
                                                                    </svg>
                                                                    <svg
                                                                        class="delete-bottom"
                                                                        viewBox="0 0 33 39"
                                                                        fill="none"
                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                        >
                                                                    <mask id="path-1-inside-1_8_19" fill="white">
                                                                        <path
                                                                            d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z"
                                                                            ></path>
                                                                    </mask>
                                                                    <path
                                                                        d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                                                                        fill="white"
                                                                        mask="url(#path-1-inside-1_8_19)"
                                                                        ></path>
                                                                    <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                                                                    <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                                                                    </svg>
                                                                </button>
                                                            </td>
                                                        </tr> -->
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab">
                    <div class="contenedor-nueva-receta" style="width: 100%;">
                        <div style="width: 100%; display: flex; justify-content: center; flex-wrap: wrap;">
                            <div class="container-elements" style="margin-left: 30px;">
                                <div class="inputs-modal">
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <select name="ingredientes" required="false" oninput="this.className = ''"
                                                    onchange="agregarIngrediente(this)">
                                                <option value="" disabled selected hidden></option>
                                                <option th:each="ingredientes : ${ingredientes}" th:value="${ingredientes.code}" th:text="${ingredientes.name}"></option>  
                                            </select>
                                            <span class="bar"></span>
                                            <label class="label">
                                                <span class="label-char" style="--index: 0">I</span>
                                                <span class="label-char" style="--index: 1">n</span>
                                                <span class="label-char" style="--index: 2">g</span>
                                                <span class="label-char" style="--index: 3">r</span>
                                                <span class="label-char" style="--index: 4">e</span>
                                                <span class="label-char" style="--index: 5">d</span>
                                                <span class="label-char" style="--index: 6">i</span>
                                                <span class="label-char" style="--index: 7">e</span>
                                                <span class="label-char" style="--index: 8">n</span>
                                                <span class="label-char" style="--index: 9">t</span>
                                                <span class="label-char" style="--index: 10">e</span>
                                                <span class="label-char" style="--index: 11">s</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <div class="table-container">
                                                <table id="table-ingredients">
                                                    <thead>
                                                        <tr>
                                                            <th>Ingrediente</th>
                                                            <th>Acci√≥n</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="tbody-table2">
                                                        <!--                                                    <tr th:each="p :${Producto}" th:value="${p.codigo}">
                                                            <td th:text="${p.nombre}">Nombre</td>
                                                            <td class="acciones">
                                                                <button class="deleteBtn" alt="Eliminar" title="Eliminar de favoritos" onclick="eliminarIngredientes(this)">
                                                                    <svg
                                                                        class="delete-top"
                                                                        viewBox="0 0 39 7"
                                                                        fill="none"
                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                        >
                                                                    <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                                                                    <line
                                                                        x1="12"
                                                                        y1="1.5"
                                                                        x2="26.0357"
                                                                        y2="1.5"
                                                                        stroke="white"
                                                                        stroke-width="3"
                                                                        ></line>
                                                                    </svg>
                                                                    <svg
                                                                        class="delete-bottom"
                                                                        viewBox="0 0 33 39"
                                                                        fill="none"
                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                        >
                                                                    <mask id="path-1-inside-1_8_19" fill="white">
                                                                        <path
                                                                            d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z"
                                                                            ></path>
                                                                    </mask>
                                                                    <path
                                                                        d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                                                                        fill="white"
                                                                        mask="url(#path-1-inside-1_8_19)"
                                                                        ></path>
                                                                    <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                                                                    <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                                                                    </svg>
                                                                </button>
                                                            </td>
                                                        </tr>-->
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab">
                    <div class="contenedor-nueva-receta" style="width: 100%;">
                        <div style="width: 100%; display: flex; justify-content: center; flex-wrap: wrap;">
                            <div class="container-elements" style="margin-left: 30px;">
                                <div class="inputs-modal">
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <input name="dificultad" required="" type="text" id="input"
                                                   oninput="this.className = ''">
                                            <span class="bar"></span>
                                            <label class="label">
                                                <span class="label-char" style="--index: 0">D</span>
                                                <span class="label-char" style="--index: 1">i</span>
                                                <span class="label-char" style="--index: 2">f</span>
                                                <span class="label-char" style="--index: 3">i</span>
                                                <span class="label-char" style="--index: 4">c</span>
                                                <span class="label-char" style="--index: 5">u</span>
                                                <span class="label-char" style="--index: 6">l</span>
                                                <span class="label-char" style="--index: 7">t</span>
                                                <span class="label-char" style="--index: 8">a</span>
                                                <span class="label-char" style="--index: 9">d</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <input name="tiempo" required="" type="text" placeholder="" id="hora"
                                                   oninput="this.className = ''">
                                            <span class="bar"></span>
                                            <label class="label">
                                                <span class="label-char" style="--index: 0">T</span>
                                                <span class="label-char" style="--index: 1">i</span>
                                                <span class="label-char" style="--index: 2">e</span>
                                                <span class="label-char" style="--index: 3">m</span>
                                                <span class="label-char" style="--index: 4">p</span>
                                                <span class="label-char" style="--index: 5">o</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <input name="advertencias" required="" type="text" placeholder="" id="input"
                                                   oninput="this.className = ''">
                                            <span class="bar"></span>
                                            <label class="label">
                                                <span class="label-char" style="--index: 0">A</span>
                                                <span class="label-char" style="--index: 1">d</span>
                                                <span class="label-char" style="--index: 2">v</span>
                                                <span class="label-char" style="--index: 3">e</span>
                                                <span class="label-char" style="--index: 4">r</span>
                                                <span class="label-char" style="--index: 5">t</span>
                                                <span class="label-char" style="--index: 6">e</span>
                                                <span class="label-char" style="--index: 7">n</span>
                                                <span class="label-char" style="--index: 8">c</span>
                                                <span class="label-char" style="--index: 9">i</span>
                                                <span class="label-char" style="--index: 10">a</span>
                                                <span class="label-char" style="--index: 11">s</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <input name="nota" required="" type="text" placeholder="" id="input"
                                                   oninput="this.className = ''">
                                            <span class="bar"></span>
                                            <label class="label">
                                                <span class="label-char" style="--index: 0">N</span>
                                                <span class="label-char" style="--index: 1">o</span>
                                                <span class="label-char" style="--index: 2">t</span>
                                                <span class="label-char" style="--index: 3">a</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="container-upload-img">
                                            <input type="file" accept="image/*" name="img_preparacion" id="file2" oninput="this.className = ''" required>
                                            <div id="imageContainer-file2">
                                                <img src="/assets/uploadimg.jpg" alt="">
                                            </div>
                                            <button id="deleteButton" class="deleteBtn" alt="Eliminar"
                                                    onclick="deleteImage('file2')">
                                                <svg class="delete-top" viewBox="0 0 39 7" fill="none"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                                                <line x1="12" y1="1.5" x2="26.0357" y2="1.5" stroke="white"
                                                      stroke-width="3"></line>
                                                </svg>
                                                <svg class="delete-bottom" viewBox="0 0 33 39" fill="none"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                <mask id="path-1-inside-1_8_19" fill="white">
                                                    <path
                                                        d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z">
                                                    </path>
                                                </mask>
                                                <path
                                                    d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                                                    fill="white" mask="url(#path-1-inside-1_8_19)"></path>
                                                <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                                                <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="tab">
                    <div class="contenedor-nueva-receta" style="width: 100%;">
                        <div style="width: 100%; display: flex; justify-content: center; flex-wrap: wrap;">
                            <div class="container-elements" style="width: 400px; margin-left: 30px;">
                                <div class="inputs-modal">
                                    
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <input required type="text" id="Titulo" oninput="this.className = ''">
                                            <span class="bar"></span>
                                            <label class="label">
                                                <span class="label-char" style="--index: 0">T</span>
                                                <span class="label-char" style="--index: 1">i</span>
                                                <span class="label-char" style="--index: 2">t</span>
                                                <span class="label-char" style="--index: 3">u</span>
                                                <span class="label-char" style="--index: 4">l</span>
                                                <span class="label-char" style="--index: 5">o</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <input required type="text" id="input_paso" oninput="this.className = ''">
                                            <span class="bar"></span>
                                            <label class="label">
                                                <span class="label-char" style="--index: 0">P</span>
                                                <span class="label-char" style="--index: 1">a</span>
                                                <span class="label-char" style="--index: 2">s</span>
                                                <span class="label-char" style="--index: 3">o</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="container-upload-img">
                                            <input type="file" accept="image/*" name="img_paso" id="file3" oninput="this.className = ''" required>
                                            <div id="imageContainer-file3">
                                                <img src="/assets/uploadimg.jpg" alt="">
                                            </div>
                                            <button id="deleteButton" class="deleteBtn" alt="Eliminar"
                                                    onclick="deleteImage('file3')">
                                                <svg class="delete-top" viewBox="0 0 39 7" fill="none"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                                                <line x1="12" y1="1.5" x2="26.0357" y2="1.5" stroke="white"
                                                      stroke-width="3"></line>
                                                </svg>
                                                <svg class="delete-bottom" viewBox="0 0 33 39" fill="none"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                <mask id="path-1-inside-1_8_19" fill="white">
                                                    <path
                                                        d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z">
                                                    </path>
                                                </mask>
                                                <path
                                                    d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                                                    fill="white" mask="url(#path-1-inside-1_8_19)"></path>
                                                <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                                                <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <div class="table-container">
                                                <table id="table-pasos">
                                                    <thead>
                                                        <tr>
                                                            <th>Titulo</th>
                                                            <th>Paso</th>
                                                            <th>Imagen</th>
                                                            <th>Acciones</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="tbody-table3">
                                                        <tr th:each="p :${Producto}">
                                                            <td th:text="${p.nombre}">Paso</td>
                                                            <td><img style="width: 50px; height: 50px;"
                                                                     src="../assets/Noticia1.jpg" alt=""></td>
                                                            <td class="acciones">
                                                                <div
                                                                    style="width: 100%; display: flex; justify-content: center;">
                                                                    <button class="editBtn" alt="Editar"
                                                                            onclick="editarPaso(this)">
                                                                        <svg height="1em" viewBox="0 0 512 512">
                                                                        <path
                                                                            d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z">
                                                                        </path>
                                                                        </svg>
                                                                    </button>
                                                                    <button class="deleteBtn" alt="Eliminar"
                                                                            onclick="eliminarPaso(this)">
                                                                        <svg class="delete-top" viewBox="0 0 39 7"
                                                                             fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <line y1="5" x2="39" y2="5" stroke="white"
                                                                              stroke-width="4"></line>
                                                                        <line x1="12" y1="1.5" x2="26.0357" y2="1.5"
                                                                              stroke="white" stroke-width="3"></line>
                                                                        </svg>
                                                                        <svg class="delete-bottom" viewBox="0 0 33 39"
                                                                             fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <mask id="path-1-inside-1_8_19" fill="white">
                                                                            <path
                                                                                d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z">
                                                                            </path>
                                                                        </mask>
                                                                        <path
                                                                            d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                                                                            fill="white"
                                                                            mask="url(#path-1-inside-1_8_19)"></path>
                                                                        <path d="M12 6L12 29" stroke="white"
                                                                              stroke-width="4"></path>
                                                                        <path d="M21 6V29" stroke="white"
                                                                              stroke-width="4"></path>
                                                                        </svg>
                                                                    </button>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="inputs-items">
                                        <div class="wave-group">
                                            <button class="modal-btn" onclick="agregarPaso(this)">Agregar paso</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="display: flex; justify-content: center;">
                    <button type="button" id="prevBtn" onclick="nextPrev(-1, event)">Anterior</button>
                    <button type="button" id="nextBtn" onclick="nextPrev(1, event)">Siguiente</button>
                </div>

                <div style="text-align:center;margin-top:40px;">
                    <span class="step"></span>
                    <span class="step"></span>
                    <span class="step"></span>
                    <span class="step"></span>
                    <span class="step"></span>
                </div>

            </form>
        </dialog>


<script>
    function closeModal() {
        var modal = document.getElementById('modal-add-recipe');
        document.body.style.overflow = 'visible'; //Desbloque el scroll
        modal.close();
    }
</script>



        <script>
            var tSearch = document.querySelector(".searchbar-input");
            tSearch.addEventListener("keypress", function (event) {
                if (event.key === "Enter") {
                    event.preventDefault();
                    buscar();
                }
            });

            var searchIcon = document.getElementById('searchIcon');
            // Agrega un evento de clic al elemento SVG
            searchIcon.addEventListener('click', function () {
                buscar();
            });

            document.addEventListener("DOMContentLoaded", function () {
                // Inicializa Swiper
                var mySwiper = new Swiper(".swiper", {
                    // Configura la direcci√≥n del carrusel (horizontal por defecto)
                    direction: "horizontal",
                    loop: true,
                    // Habilita la paginaci√≥n
                    pagination: {
                        el: ".swiper-pagination",
                        clickable: true,
                    },
                    // Habilita la navegaci√≥n con botones previo/siguiente
                    navigation: {
                        nextEl: ".swiper-button-next",
                        prevEl: ".swiper-button-prev",
                    },
                });

                setInterval(function () {
                    mySwiper.slideNext();
                }, 7000);
            });

            function buscar() {
                var inputValue = document.querySelector('.searchbar-input').value;
                alert("Funcionalidad no agregada. Valor del campo de busqueda: " + inputValue);
            }
        </script>


        <!-- Enviar formulario creo que ya no se ocupa-->
        <script>
            function enviarFormulario() {
                event.preventDefault();
                //        Utensilios
                var tablaUtensilios = document.getElementById("table-utensilios");
                var filasUtensilios = tablaUtensilios.getElementsByTagName("tr");
                var datosTablaUtensilios = [];
                for (var i = 1; i < filasUtensilios.length; i++) {
                    var celdas = filasUtensilios[i].getElementsByTagName("td");
                    datosTablaUtensilios.push(celdas[0].innerText);
                }
                var tablaUtensiliosData = document.createElement("input");
                tablaUtensiliosData.setAttribute("type", "hidden");
                tablaUtensiliosData.setAttribute("name", "datosTablaUtensilios");
                tablaUtensiliosData.setAttribute("value", JSON.stringify(datosTablaUtensilios));
                document.getElementById("recipeForm").appendChild(tablaUtensiliosData);

                //        Ingredientes
                var tablaIngredientes = document.getElementById("table-ingredients");
                var filasIngredientes = tablaIngredientes.getElementsByTagName("tr");
                var datosTablaIngredientes = [];

                for (var i = 1; i < filasIngredientes.length; i++) {
                    var celdas = filasIngredientes[i].getElementsByTagName("td");
                    datosTablaIngredientes.push(celdas[0].innerText);
                }

                var tablaIngredientesData = document.createElement("input");
                tablaIngredientesData.setAttribute("type", "hidden");
                tablaIngredientesData.setAttribute("name", "datosTablaIngredientes");
                tablaIngredientesData.setAttribute("value", JSON.stringify(datosTablaIngredientes));
                // Agregar el campo oculto al formulario
                document.getElementById("recipeForm").appendChild(tablaIngredientesData);




//                //        Pasos 
//                var tablaPasos = document.getElementById("table-pasos");
//                var filasPasos = tablaPasos.getElementsByTagName("tr");
//                var descripcionPasos = [];
//                var imagenPasos = [];
//
//                for (var i = 1; i < filasPasos.length; i++) {
//                    var celdas = filasPasos[i].getElementsByTagName("td");
//                    var nombrePaso = celdas[0].innerText;
//                    var imagen = celdas[1].querySelector("img");
//
//                    // Verificar si hay una imagen dentro de la celda
//                    if (imagen) {
//                        var imagenSrc = imagen.getAttribute("src");
//                        descripcionPasos.push(nombrePaso);
//                        imagenPasos.push(imagenSrc);
//                    } else {
//                        var imagenSrc = "/assets/no_img.png";
//                        descripcionPasos.push(nombrePaso);
//                        imagenPasos.push(imagenSrc);
//                    }
//                }
//
//                // Crear un campo oculto para enviar la lista de descripciones de pasos
//                var descripcionPasosData = document.createElement("input");
//                descripcionPasosData.setAttribute("type", "hidden");
//                descripcionPasosData.setAttribute("name", "descripcionPasos");
//                descripcionPasosData.setAttribute("value", JSON.stringify(descripcionPasos));
//                document.getElementById("recipeForm").appendChild(descripcionPasosData);
//
//                // Crear un campo oculto para enviar la lista de im√°genes de pasos
//                var imagenPasosData = document.createElement("input");
//                imagenPasosData.setAttribute("type", "hidden");
//                imagenPasosData.setAttribute("name", "imagenPasos");
//                imagenPasosData.setAttribute("value", JSON.stringify(imagenPasos));
//                document.getElementById("recipeForm").appendChild(imagenPasosData);

                document.getElementById("recipeForm").submit();
            }
        </script>

        <!-- Imagen -->
        <script>
            function deleteImage(id) {
                event.preventDefault();
                if (document.getElementById(id).value !== '') {
                    document.getElementById(id).value = '';
                    var imageContainer = document.getElementById('imageContainer-' + id);
                    imageContainer.innerHTML = '<img src="/assets/uploadimg.jpg" alt="Imagen">';

                    // document.getElementById('deleteButton').disabled = true;
                } else {
                    alert('Por favor selecciona una imagen.');
                }
            }


            document.getElementById('file').addEventListener('change', function (event) {
                var file = event.target.files[0];
                var imageType = /^image\//;

                if (!file || !imageType.test(file.type)) {
                    document.getElementById("file").value = '';
                    alert('Por favor selecciona una imagen v√°lida.');
                    return;
                }

                var reader = new FileReader();

                reader.onload = function (event) {
                    var imageContainer = document.getElementById('imageContainer-file');
                    imageContainer.innerHTML = '<img src="' + event.target.result + '" alt="Imagen">';
                    document.getElementById('deleteButton').disabled = false;
                };

                reader.readAsDataURL(file);
            });

            document.getElementById('file2').addEventListener('change', function (event) {
                var file = event.target.files[0];
                var imageType = /^image\//;

                if (!file || !imageType.test(file.type)) {
                    document.getElementById("file2").value = '';
                    alert('Por favor selecciona una imagen v√°lida.');
                    return;
                }

                var reader = new FileReader();

                reader.onload = function (event) {
                    var imageContainer = document.getElementById('imageContainer-file2');
                    imageContainer.innerHTML = '<img src="' + event.target.result + '" alt="Imagen">';
                    document.getElementById('deleteButton').disabled = false;
                };

                reader.readAsDataURL(file);
            });

            document.getElementById('file3').addEventListener('change', function (event) {
                var file = event.target.files[0];
                var imageType = /^image\//;

                if (!file || !imageType.test(file.type)) {
                    document.getElementById("file3").value = '';
                    alert('Por favor selecciona una imagen v√°lida.');
                    return;
                }

                var reader = new FileReader();

                reader.onload = function (event) {
                    var imageContainer = document.getElementById('imageContainer-file3');
                    imageContainer.innerHTML = '<img src="' + event.target.result + '" alt="Imagen">';
                    document.getElementById('deleteButton').disabled = false;
                };

                reader.readAsDataURL(file);
            });
        </script>

        <script text="text/javascript" th:src="@{/js/jsValidacionAgregarReceta.js}" defer></script>
    </body>

</html>