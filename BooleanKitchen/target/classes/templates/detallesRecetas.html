<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Detalle de la Receta</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
        <link rel="stylesheet" type="text/css" th:href="@{/css/stBtnComments.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stDetailsRecipe.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stBtnEditar.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stBtnEliminar.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stColores_fuentes.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stNav.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stFooter.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/stRecetasYNoticias.css}">
        <script text="text/javascript" th:src="@{/js/DetallesReceta/jsDetallesReceta.js}" defer></script>
        <script text="text/javascript" th:src="@{/js/jsNav.js}" defer></script>
    </head>
    <body>

        <div th:replace="plantillas/nav :: nav"></div>

        <main class="main">
            <div class="recipe" th:if="${receta != null}">
                <h1 th:text='${receta.name}' style="margin-top: 30px;"></h1>
                <div class="image-container">
                    <img th:src="@{/assets/__${receta.image}__}" alt="Imagen de una receta">
                </div>
                <div class="details">
                    <p><span>Categoria: </span> <span style="font-weight: normal;" th:text="${receta.category.name}"></span></p>
                    <p><span>Origen: </span><span style="font-weight: normal;" th:text="${receta.origin.name}"></span></p>
                </div>
                <div class="otherItems">
                    <div class="dropdown" id="utensilios">
                        <button class="dropdown-toggle">
                            <span>Utensilios</span>
                            <i class="fa-solid fa-caret-down"></i>
                        </button>
                        <ul class="menu" th:if="${utensilios != null and !utensilios.empty}">
                            <!-- <ul class="menu" th:if="${receta.utensilios != null and !receta.utensilios.empty}"> -->
                            <li class="menu-item" th:each="utensilio : ${receta.utensilios}" th:text='${utensilio.nombre}'></li>
                        </ul>
                        <ul class="menu" th:if="${utensilios == null || utensilios.empty}">
                            <!-- <ul class="menu" th:if="${receta.utensilios == null || receta.utensilios.empty}"> -->
                            <li class="menu-item">No se encontraron utensilios</li>
                        </ul>
                    </div>
                    <div class="dropdown" id="ingredientes">
                        <button class="dropdown-toggle">
                            <span>Ingredientes</span>
                            <i class="fa-solid fa-caret-down"></i>
                        </button>
                        <ul class="menu" th:if="${ingredientes != null and !ingredientes.empty}">
                            <!-- <ul class="menu" th:if="${receta.ingredientes != null and !receta.ingredientes.empty}"> -->
                            <li class="menu-item" th:each="ingrediente : ${receta.ingredientes}" th:text='${ingrediente.name}'></li>
                        </ul>
                        <ul class="menu" th:if="${ingredientes == null || ingredientes.empty}">
                            <!-- <ul class="menu" th:if="${receta.ingredientes == null || receta.ingredientes.empty}"> -->
                            <li class="menu-item">No se encontraron ingredientes</li>
                        </ul>
                    </div>
                    <div class="dropdown" id="preparacion">
                        <button class="dropdown-toggle">
                            <span>Preparación</span>
                            <i class="fa-solid fa-caret-down"></i>
                        </button>
                        <ul class="menu" th:if="${receta.preparacion != null}">
                            <li class="menu-item">
                                <p><span>Dificultad: </span><span style="font-weight: normal;" th:text="${receta.preparacion.difficulty}"></span></p>
                            </li>
                            <li class="menu-item">
                                <p><span>Tiempo: </span><span style="font-weight: normal;" th:text="${receta.preparacion.timeStr}"></span></p>
                            </li>
                            <li class="menu-item">
                                <p><span>Advertencias: </span><span style="font-weight: normal;" th:text="${receta.preparacion.warnings}"></span></p>
                            </li>
                            <li class="menu-item">
                                <img th:src="@{/assets/__${receta.preparacion.routeImg}__}" alt="Imagen de la Preparación">
                            </li>
                        </ul>
                        <ul class="menu" th:if="${receta.preparacion == null}">
                            <li class="menu-item">No se encontraron detalles de la preparación</li>
                        </ul>
                    </div>
                    <div class="dropdown" id="pasos">
                        <button class="dropdown-toggle">
                            <span>Pasos</span>
                            <i class="fa-solid fa-caret-down"></i>
                        </button>
                        <ul class="menu" th:if="${receta.preparacion != null}">
                            <li class="menu-item" th:each="paso : ${receta.preparacion.preparationList}" th:text='${paso.textStep}'></li>
                        </ul>
                        <ul class="menu" th:if="${receta.preparacion == null}">
                            <li class="menu-item">No se encontraron detalles de los pasos</li>
                        </ul>
                    </div>
                </div>
                <div class="buttons">
                    <div class="acciones-recipe" style="margin-bottom: 40px;">
                        <form id="btnEditarForm" method="get" th:action="@{/c_receta/editarReceta}">
                            <input type="hidden" name="identificadorReceta" th:value="${receta.identificador}">
                            <button class="editBtn" alt="Editar" style="margin-right: 5px;">
                                <svg height="1em" viewBox="0 0 512 512">
                                <path
                                    d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z">
                                </path>
                                </svg>
                            </button>
                        </form>
        
                        <form id="btnComentarForm" method="get" th:action="@{/c_comentarios/comentarios}">
                            <input type="hidden" name="identificadorReceta" th:value="${receta.identificador}">
                            <button class="bookmarkBtn" style="margin-left: 5px; margin-right: 5px;">
                                <span class="IconContainer">
                                    <svg fill="white" viewBox="0 0 512 512" height="1em">
                                    <path
                                        d="M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9c.1-.2 .2-.3 .3-.5z">
                                    </path>
                                    </svg>
                                </span>
                                <p class="text">Comentar</p>
                            </button>
                        </form>
                        <form id="btnEliminarForm" method="get" th:action="@{/c_receta/eliminarReceta}">
                            <input type="hidden" name="identificadorReceta" th:value="${receta.identificador}">
                            <button class="deleteBtn" alt="Eliminar" style="margin-left: 5px;">
                                <svg class="delete-top" viewBox="0 0 39 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                                <line x1="12" y1="1.5" x2="26.0357" y2="1.5" stroke="white" stroke-width="3"></line>
                                </svg>
                                <svg class="delete-bottom" viewBox="0 0 33 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <mask id="path-1-inside-1_8_19" fill="white">
                                    <path d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z"></path>
                                </mask>
                                <path
                                    d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                                    fill="white" mask="url(#path-1-inside-1_8_19)"></path>
                                <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                                <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                                </svg>
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="recipe" th:if="${receta == null}" style="margin-top: 50px;">
                No se encontro la receta
            </div>





            
        </main>

        <footer th:replace="plantillas/footer :: footer"></footer>
    </body>
</html>
